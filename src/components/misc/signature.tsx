'use client'

import React, { forwardRef, ForwardRefRenderFunction, useRef } from 'react'
import { motion as Motion, SVGMotionProps, useInView } from 'framer-motion'
import { cn } from '@/lib/utils'

const Signature: ForwardRefRenderFunction<
  SVGSVGElement,
  SVGMotionProps<SVGSVGElement>
> = ({ className, ...props }, ref) => {
  const wrapperRef = useRef<HTMLDivElement>(null)
  const isInView = useInView(wrapperRef, { once: true })

  return (
    <div ref={wrapperRef} className={cn('stroke-[#0A0A0A]', className)}>
      <Motion.svg
        ref={ref}
        width={'100%'}
        height={'100%'}
        viewBox={'0 0 1639 194'}
        fill={'none'}
        xmlns={'http://www.w3.org/2000/svg'}
        {...props}
      >
        <Motion.path
          initial={{ pathLength: 0 }}
          animate={isInView && { pathLength: 1 }}
          transition={{
            duration: 1.925,
            delay: 0.725,
            ease: [0.75, 0, 0.25, 1],
          }}
          fill={'none'}
          d={
            'M32.0001 2C37.4456 3.70172 42.7981 6.11021 48.0557 8.22222C87.4743 24.0571 127.427 38.2137 168 50.8333C237.845 72.5573 308.852 89.2747 379.611 107.611C414.716 116.708 439.139 123.169 473.056 134.556C491.149 140.63 512.002 147.957 529.056 157.5C530.982 158.578 546.222 165.172 541.278 172.778C536.16 180.651 516.153 183.87 510.945 184.889C456.766 195.492 399.523 192.194 344.945 187.333C308.179 184.059 279.463 180.355 243.333 173.778C227.186 170.838 197.465 165.753 180.889 157.111C169.64 151.247 166.706 146.623 173.778 135.333C184.059 118.921 204.056 106.503 219.611 97.3333C266.063 69.9512 317.24 51.9472 368.889 37.2222C393.104 30.3186 431.513 21.5209 457.222 16.5556C469.961 14.0953 482.856 10.0531 495.778 11.2222C501.619 11.7507 485.507 17.0961 479.889 18.7778C453.641 26.6342 417.294 34.96 392 40.2222C293.258 60.7648 193.315 74.2368 94.2223 92.7778C75.2961 96.319 33.9772 104.474 13.0001 111.333C11.85 111.709 -8.96262 119.165 8.55567 119.889C27.0558 120.653 81.3082 114.821 92.6668 113.556C146.49 107.56 218.925 97.7442 271.222 90.5556C414.888 70.8078 558.304 48.68 702.667 34.4444C736.401 31.1179 795.144 26.3613 831.667 25.2222C841.034 24.9301 850.436 24.8693 859.778 25.6111C863.105 25.8753 869.93 24.9199 869.445 28.2222C868.86 32.2045 862.421 32.2556 858.611 33.5556C837.356 40.8088 806.164 46.6773 785.889 50.4444C696.086 67.1302 605.31 77.8623 515.556 94.8889C479.199 101.786 452.439 107.558 417.445 116.444C403.658 119.945 387.47 124.124 373.778 129.5C354.424 137.1 389.505 133.684 389.778 133.667C413.812 132.149 437.786 129.665 461.556 125.778C466.288 125.004 470.988 124.041 475.722 123.278C476.509 123.151 478.391 122.476 478.111 123.222C476.941 126.343 474.361 127.348 475.556 131.444C480.279 147.64 517.923 152.376 528.833 154.222C582.844 163.361 637.926 159.707 692.111 154.111C823.102 140.582 952.578 114.817 1082.78 95.6667C1133.5 88.2059 1201.45 79.0046 1253.22 75.1111C1283.27 72.8513 1336.85 70.6449 1368.89 74.6667C1385.28 76.7236 1406.64 82.1646 1419 95C1426.55 102.837 1430.82 119.751 1432.78 129.778C1435.89 145.766 1432.41 171.82 1449.67 181.444C1457.9 186.037 1474.29 187.858 1482.67 188.111C1498.52 188.589 1519.11 186.425 1534.56 183.778C1570.01 177.7 1602.73 163.79 1637 154'
          }
          strokeWidth={'2'}
          strokeDasharray={'0 1'}
          strokeLinecap={'round'}
        />
      </Motion.svg>
    </div>
  )
}

Signature.displayName = 'Signature'
export default forwardRef(Signature)
